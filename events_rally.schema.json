{
  "$id": "/events/rally",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "properties": {
    "end_ms": {
      "description": "The end time of the rally (milliseconds).",
      "type": "integer"
    },
    "moments": {
      "description": "The sequence of moments during this rally in which events occurred (e.g., the ball is hit or bounces, or a player arrives/departs from the kitchen).",
      "items": {
        "$ref": "/events/moment",
        "description": "Describes a particular moment in the video when event(s) occurred. This may not be aligned with exactly when a video frame occurred (e.g., it could be _in between_ video frames).",
        "title": "Moment"
      },
      "type": "array"
    },
    "players": {
      "description": "Data about each player for this rally.",
      "items": {
        "additionalProperties": false,
        "description": "Data about a player during a single rally.",
        "properties": {
          "ms_to_kitchen": {
            "description": "How long it took this player to reach the kitchen in milliseconds. Omitted if they did not make it to the kitchen.",
            "type": "integer"
          },
          "started_on_left_side": {
            "description": "`true` if this player started on the left side",
            "type": "boolean"
          }
        },
        "required": [
          "started_on_left_side"
        ],
        "title": "Player Data for Rally",
        "type": "object"
      },
      "maxItems": 4,
      "minItems": 4,
      "type": "array"
    },
    "start_ms": {
      "description": "The start time of the rally (milliseconds).",
      "type": "integer"
    },
    "winning_team": {
      "description": "Which team won the rally (team 0 or 1)",
      "maximum": 1,
      "minimum": 0,
      "type": "integer"
    }
  },
  "required": [
    "start_ms",
    "end_ms",
    "players",
    "moments"
  ],
  "title": "Rally",
  "type": "object"
}